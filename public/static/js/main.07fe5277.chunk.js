(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,n,t){e.exports=t(44)},34:function(e,n,t){},44:function(e,n,t){"use strict";t.r(n);var a=t(2),r=t.n(a),l=t(24),o=t.n(l),u=(t(34),t(11)),c=t(8),i=t(12),m=t(14);function d(){var e=Object(m.a)(["\nmutation($name: String!, $genre: String!, $authorId: ID!){\n  addBook(name: $name, genre: $genre, authorId: $authorId){\n    name\n    id\n  }\n}\n"]);return d=function(){return e},e}function b(){var e=Object(m.a)(["\n{\n  authors{\n    name\n    id\n  }\n}\n"]);return b=function(){return e},e}function s(){var e=Object(m.a)(["\nquery($id: ID){\n  book(id: $id){\n    name\n    id\n    genre\n    author{\n      id\n      name\n      age\n      books{\n        name\n        id\n      }\n    }\n  }\n}\n"]);return s=function(){return e},e}function E(){var e=Object(m.a)(["\n{\n  books{\n    name\n    id\n  }\n}\n"]);return E=function(){return e},e}var f=Object(u.b)(E()),h=Object(u.b)(s()),v=Object(u.b)(b()),k=Object(u.b)(d());var g=Object(c.c)(h,{options:function(e){return{variables:{id:e.bookId}}}})(function(e){return r.a.createElement("div",{id:"book-details"},function(){var n=e.data.book;return n?r.a.createElement("div",null,r.a.createElement("h2",null,n.name),r.a.createElement("p",null,n.genre),r.a.createElement("p",null,n.author.name),r.a.createElement("p",null,"All books by this author: "),r.a.createElement("ul",{className:"other-books"},n.author.books.map(function(e){return r.a.createElement("li",{key:e.id},e.name)}))):r.a.createElement("div",null,"No book selected ...")}(),r.a.createElement("p",{className:"credit"},"Awesome tutorial by ",r.a.createElement("em",null,r.a.createElement("strong",null,r.a.createElement("a",{href:"https://www.youtube.com/playlist?list=PL4cUxeGkcC9iK6Qhn-QLcXCXPQUov1U7f",target:"_blank"},"The Net Ninja")))))});var p=Object(c.c)(f)(function(e){var n=Object(a.useState)(null),t=Object(i.a)(n,2),l=t[0],o=t[1];return r.a.createElement("div",null,r.a.createElement("ul",{id:"book-list"},function(){var n=e.data;return n.loading?r.a.createElement("div",null,"Loading books ..."):n.books.map(function(e){return r.a.createElement("li",{key:e.id,onClick:function(n){return o(e.id)}},e.name)})}()),r.a.createElement(g,{bookId:l}))});var j=Object(c.b)(Object(c.c)(v,{name:"getAuthorsQuery"}),Object(c.c)(k,{name:"addBookMutation"}))(function(e){var n,t=Object(a.useState)(""),l=Object(i.a)(t,2),o=l[0],u=l[1],c=Object(a.useState)(""),m=Object(i.a)(c,2),d=m[0],b=m[1],s=Object(a.useState)(""),E=Object(i.a)(s,2),h=E[0],v=E[1];return r.a.createElement("form",{id:"add-book",onSubmit:function(n){n.preventDefault(),e.addBookMutation({variables:{name:o,genre:d,authorId:h},refetchQueries:[{query:f}]})}.bind(this)},r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Book Name: "),r.a.createElement("input",{type:"text",onChange:function(e){return u(e.target.value)}})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Genre: "),r.a.createElement("input",{type:"text",onChange:function(e){return b(e.target.value)}})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Author: "),r.a.createElement("select",{onChange:function(e){return v(n.authors.find(function(n){return n.name===e.target.value})?n.authors.find(function(n){return n.name===e.target.value}).id:null)}},r.a.createElement("option",null,"Select Author --"),(n=e.getAuthorsQuery).loading?r.a.createElement("option",{disabled:!0},"Loading Authors ..."):n.authors.map(function(e){return r.a.createElement("option",{key:e.id,"data-key":e.id},e.name)}))),r.a.createElement("button",null,"+"))}),O=new u.a({uri:"/graphql"});var y=function(){return r.a.createElement(c.a,{client:O},r.a.createElement("div",{id:"main"},r.a.createElement("h1",null,"Book-O-Pedia"),r.a.createElement(p,null),r.a.createElement(j,null)))};o.a.render(r.a.createElement(y,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.07fe5277.chunk.js.map